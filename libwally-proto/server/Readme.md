# Crypto contribox-proto Server

## Start server

```bash
  python server.py
```

## Call JsonRPC method

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export MASTER_ENTROPY="1b278d56ad8701d810362a18ee1a7b560cc4a0982ee1858be4dda1eca84bea7f"
export CHAIN="elements-regtest"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "new_master",
        "params": ["'"$CHAIN"'", "'"$MASTER_ENTROPY"'", true],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export KEY_FINGERPRINT="ce9e7a9b"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "get_xpub",
        "params": ["'"$CHAIN"'", "'"$KEY_FINGERPRINT"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export KEY_FINGERPRINT="ce9e7a9b"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "get_xprv",
        "params": ["bitcoin-main", "'"$KEY_FINGERPRINT"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export HD_PATH="84/0/1"
export XPUB="tpubD6NzVbkrYhZ4WbScGMjFV1RFPh7W6xUZZDzx1Zt5YZyVem4Zoqws3kB79PVhCrmWhdTzPYxfPadN7oSsHt1a4kwrSzVpm1ExqcuhYBX9En1"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "new_address",
        "params": ["'"$CHAIN"'", "'"$XPUB"'", "'"$HD_PATH"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```
```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export XPUB="tpubD6NzVbkrYhZ4WbScGMjFV1RFPh7W6xUZZDzx1Zt5YZyVem4Zoqws3kB79PVhCrmWhdTzPYxfPadN7oSsHt1a4kwrSzVpm1ExqcuhYBX9En1"
export TARGET="ert1qvyp3p6jyj2st4ud049s4unt85qj64s3xqa9gt9"
export HD_PATH="84/0"
export INDEX="0"
export RANGE="100"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "search_path_for_address",
        "params": ["'"$CHAIN"'", "'"$XPUB"'", "'"$TARGET"'", "'"$HD_PATH"'", "'"$INDEX"'", "'"$RANGE"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```
```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export XPUB="tpubD6NzVbkrYhZ4WbScGMjFV1RFPh7W6xUZZDzx1Zt5YZyVem4Zoqws3kB79PVhCrmWhdTzPYxfPadN7oSsHt1a4kwrSzVpm1ExqcuhYBX9En1 tpubD6NzVbkrYhZ4WaSZUxTVKpF7YW81RvRHBmHb2maejAQUC2qSqWqZebTeyA8U58xB15BpCNNYpMr1VuTaqafoeuyRaCqn3EyQeMqgaiYDXaZ"
export HD_PATH="84/0/1 84/0/1"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "new_multisig_address",
        "params": ["'"$CHAIN"'", 2, 2, "'"$XPUB"'", "'"$HD_PATH"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export ADDRESS="ert1q9swn8f76jgadhkxv05wjr4seaz7zt2xaxx50wjta8pk7rh4m9khq2lxsa7"
export MASTER_BKEY="6cf649af895c88e68774d2f86f390f6e4df278cdf35636983bac81be07138575224e36271e4b5342aedc605d01f62ac5b5c48d8a4f0e7f71c2b4c3394bfaecd6"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "new_confidential_address",
        "params": ["'"$CHAIN"'", "'"$ADDRESS"'", "'"$MASTER_BKEY"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export CONTRACT="this is a commited contract"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "hash_contract",
        "params": ["'"$CHAIN"'", "'"$CONTRACT"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export CONTRACT="this is a commited contract"
export TXID="dcc50b5563a8a6b62195aca3e3bc6923c6773ac54e658e3e22653547b88b9b27"
export VOUT=0
export ASSET_ID="53931710d5747cd2cce06e7cf607eeb3f389e008b007864e92471391c556e710"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "verify_contract_commitment",
        "params": ["'"$CHAIN"'", "'"$TXID"'", "'"$VOUT"'", "'"$CONTRACT"'", "'"$ASSET_ID"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export PRIVKEY="d03fbdbaa95b76525da2078bbbeb9821c70cbe95e0c4d2ddcd2683a16e0a6de7"
export PUBKEY="038ed1e7fd9014e47c6c005472cf88185ed8b64c291e9eb0ee09e057297dddc143"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "start_aes_session",
        "params": ["'"$PUBKEY"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```
```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export MSG="this is a clear message"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "encrypt_msg_for_session",
        "params": ["'"$MSG"'", "'"$SESSION_ID"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "decrypt_msg_for_session",
        "params": ["'"$MSG"'", "'"$SESSION_ID"'", "'"$IV"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```
```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export PREV_TX="020000000101477670826441cd0855f65ed6f39901941ffb699edfa85c8f302d8c769845e0230100000000fdffffff030b4bb7c4dca386acdd78a4f721a6dd372b1f825bb9a3b039c41a74fa93789f8ffe08e7e789a695de948ddbeaaca57705c5815ea009e51b67a442194781ded511f9ad020e419b29b775e0d76bb0e362d1bf4bdb9ee910cc4c2b68745198cb94b2a6d313160014fdbca3620fbe638ffd0f8fa5767a7040a83ecceb0b4f97ef175a1d40145925b81dd6b45ab776b294428cc079fba14da71a76237c76080c7df337f5e1f89a375c46de1a5abaea4952e96dff42c51462b157ae09a9264903d63b4a072ae6d33ac2fa102db0ab4031603e3be89a091945c98b73aefd928aa4160014610310ea4492a0baf1afa9615e4d67a025aac22601230f4f5d4b7c6fa845806ee4f67713459e1b69e8e60fcee2e4940c7a0d5de1b2010000000000001376000003000000000002473044022004256c9a400508b7e21cc425a403cd57ad5a99dd971e376708d2570c29c1661d022066a19188dbe4b71c7fc0a74ee970020bafad4e0e64720457a497231d214765a3012102e6b37275f50d4c3711569ce0f76b37b6fd5759250dafe0f2c98056434c6df355004301000127d0842fa30253707268bc3a73e3f4c2f1904e0d8cacbc210fb387713f18f0bd14d4b81b1d261bfd628b69ffd950afc00dfc79944a4f41c2744d296a79c0938ffd4e1060330000000000000001fbdeb801d61fc387ae2ed1befbcdd571c4f1d2d6bc3b204eb6148dd1c419c2650419724083969dc82e5cb2329f627606d9922b86d6bab1192353f1f08d2f2c50c7af37ed687d9acf66a9616d490dee54e2ef335205c4920e1f3dc942bd17bb033fdc8ee2ff0898ad9a2e4996f25853a361468583693c355b110727ac945f95c9caf497e3226dd3c1dfbf0390f5af9e66cba6c468d17cb11e26c61ff2436128df679aac0c77b91b654736b2eb945887c13811fa95d37f657d7716c11861e6f04a85a385dbd2cb467677d7362f628fa337af904ba03d3a2a6030d311ae2a324fbca9aad2e42b474c5690c07b7b99a221882ca929b08e3478a8072d4b1c07f1149a2c1b44a68354e9006ff5077905703630e479e6796b452a4ffbe20146e8b16dc7bf55abc103dd0115b52c0b4b97e8da84d811fe3d7047618ad6c90f5876a832c2e5354b5b01986b532b51da09516ad366ef65ff502a4456e4b1e26ce3aeae105f5496b0bfad443e1f7bca22e403cbc1db44fa11a33976a8a7cd93d97e5a5dcd040c1dd9e97a97d46927b2e9e86041468142a58b4bb7c36f638fa81ebae48e826bbc4f9d4238427d92e1fb90b17aae6b9713f747b80ee90b316b17fd2feb664f7418c2cbf5d37ac621dcfabff9598816297cef201dcbe769ba8c733b2d3b5ffaaf400632b2711e6a6e7fdcc734bdd71ae1a6e456934e86dc8e1e807e6b435d7d18c54934fb681eedce5bfdff60880e4db26378f0329dd3215243eee053667dab19d7ba6f334f329fc59f8493609926d6b21d19f1482d5ac45b5da32cf0206a837f0651c495ba1a4976df00bed0ce2378f655aa1c49349e92e10dd3b8cf5570ab1f7337a2f44aa74dafef789833dd07f1808705ad2b2923f3bb7acf7416f3d04c8b892fbb9e0db80d9edf7b760fdc53ce384557db7dc52077b63df1331d8fd736904b1a6166fa148ca27479ceb9be588d3c5a73743eebbe1b5f9cf27b79e41ed38b5d20f4aabf3fd5ac268f95b17e16ed40edd70653a505071495a6e15bf5c2a040ef7c9a591220494dc70c3acb95563584597699a18519e826d47bc244d51124104da6c50b5a7befe4c030198ca6655ea2ec12a60510679292f1338ee6872e816bc958c65d703435dbb14082ff4686098ff00f0f5222e9694759474313faf5889a6a3cc39d087158c0009b90c1d850535c3ac878daf0102c09fa90595fa56e220dc67b88ca3b46cb79234422779f580d58144bfc8983c9056db483e335d1a5c09ec29bc565e0d7bf18df66aead3751263d899dfa05d79917bff9853d4c5a20a12518318babe89d445c4a1bd11c091235435a557de62f0e0596d94a8b933dc9530334120e76c7ab9302b3e48cc63f8bcc23bf9d8a95ee216eddf69435d63bb3b2aa60a80f1719a1f40eb8b8d9e62c61a9e0f2bb2bd24a176c0c75d136a3a28521687527cab3c71280692db9b0e59be215869bb3c8e4ed0e4d3312455dd9ff5487bf09877a9e1a06e8d690227e8a2edd9b518d16482976ef52e41da60db000f7ca19e8b1991e10ab8ac81a38f629bc2367725b781c68935d52d232cab63c2f1230a9292d18ceb989a08889ef1c38b84069a57c9ae0d870861e7e16f9b601d0f543c67ab28a79da9469d7d844de56d0522f6ebd3d17412447dc0fd2baac93495b323780746fd4174a8ae257b07353cd873d62ffc14a88680d32b2d930b25b016101f72b970f4977bb79349a94a9810a07ee2296433b2e0349337a44e4226d0dd36eba91810c7d906fc715462731ae465123af412dd0cb5baf6804bc84287736557776ba70942a380f0ebea291af710217a69d627f7c76518c2c22d476b2a9ddd4470626b593181ca026b23c1300d28918db40ab679e2b66992a5a8a324d4acfdb0fbf09af176b47e7e07f0125cf790d601627480aae93c90b6b9b4c4c9246283ef301f3bd989c7a23727d06807a2350a3c13c3983ffa5eb85d287055a3237cb4b13b5ee75024336c1b962dbd8cba606b8f940a5e098938505ff6f72964535fb1bfe3cc2b2066913d4ca5bb9b21f1c4bac4493cb59a7975a1f98773bef4208658402f39bcb34df02a30d83c4590c52d78a85b488f7a81b2ff25919f3587f1723caf61e20c62e1b084581a32d5a71ac6f28631729c8da719b037cc47dbf82e74d4a63897c1f57572eedc6903d8cbc843b1ed5dc51c5c97f0707ab7aa06cb0c3d006b93865ae9ca4e35013a4fe5bbc64c75cd92020f2fafbeb2054f4f6b574d39245ddfa46a13df27d238ae405eb13ffdb8533a55d0f90ad206e8d77a910764855400e2fb54bbfa381e8c34e821567e27d6beedc49bffe56dc2659f1fdf057cbc8e60cfc30503c5522ea60fea5ed239e31fd883bac2682f5c7ef76fd8167d3a4b9c956b76926defdf129dccbe511b1634b4beb6d65f2c2489b236f9b3ede558b4ce920cd32ac61b16d0c0461b71381a96928fe14c83002ca1a195cf4e8ba920f60910464036edb900bf48a70634a576687f60888b62e6c5a9b3b0be72bcd08ffd38880736cd318630ec5d3f01f152d1184621d4426f60eee85c9da1002431d6b8704aed8fac1df118bc31c7106efdf0ff299340bdfdadf84664c676b7ea70b483bcbcae2c4a734463b4a7c48349947e4c5af1756da841d99fa8d9c8fe251d103109bd91191ae84498eac2589a811a9704866e56a8fc80201591cd15d88708812a13019fdbfccd3194cfaa47d49bf455ef169d66157230e26fbb195ebc6dd20d844ac9f5f45c5fb92927beeae662d4835c94b6783652299d6b7ae856a54f9fda395926bbf633ad50e0173367b3043049b8a37e882ecb169110d44b2c3b35f83800fdf898a79bb847dcfd18c7be5e256301d85d3367d7fc10537a8b352eb81b6dae23ea47cefaf240b9c5a537abe6e221f4d5ebdce396c53e3c0c4ab24d9ad13b13cee4aa9fcdc18efcdf1e2d65769ef623a12044a57ed9d819a264320a7ee7f79ae164805919979069ac2e953279062dcfd01d413ebc731c31d473ff03aecd6b4c47cec922d114d5ced9d0c922e7ead568634fa9b65dfdf8779ba7f0d7dadf3bab655ee24ee7b28eb48cb2e648a14449d3dc4b9542dddbed9b7a8b422f9d575e363db6d759ef6292801b93fd15f713da584a1fc95c5436f4260966412f156fb403e2a4de7f731d0da55b18833c482011a3462cd34194ac7ab2c0e10092a0376008f3ccba3798e9a4feef4fb52263a6c6c0e300505d0cff5e58afc26b24e35ac574c860dcc8e3c160438b7e3487dfbd68071a4d43332b8f6d0f83619ca2ca5d0001f0d83cbebfc04252625b295e137afab2eea0db7f15f2c814be52148cfc102d16b14756250ceedebcddf57aad956c255b685f98477c93871a8ebb24fce165073e671d3e5752aaf0cdd0b8e14180739e32a06cf7c2d324751260fc09ce03ee34397c6ccb6946f8addad8a94097d0b263e2d460013571f4889f960e7f4080bc23b0c85ad35048de9ca86eb72efba12d83d47f803dcbb9696297ddbb0c4ccbd2a20b6674d75650e6ee6a31e2aa67591c2aead0225db59856b66e3a2fc4b47ae5a567236d09e2640e53e945f75ccf9596c6fee4aa4daebf7112b017b09145014243769ce8e1180df9e27e36dfb9d3fab9fd18c3c6320a266701377867a74efeb853d9db32b2f30a8c96143b065543f3984e8e776686369ddbd59c68854a2ec59332494e92d2812c443ae909e0ace93314698fae8840dbce60e0d6ee4759d50e05d5cfaa0030535d77dab36b92ce184b8141ac3274ad2296165799502336e7474430e399805548ef24c399a67f7354b8d210e510771a615f71f28f9d0907d022ad406c67a23d86cb1c8b249192b1a97839e95a680e8b58310904ad4ac70fc15ecc3a1eb9ea97e78a4c6875ef136870f8dcf05401cac4450459d3a1c27dd960a846909b094ad8c25722281cadec1b9eeca7bc407c55c060f7eaa4584286863d656723bef5253cea57fe650239ff5ec45119e4a09c824c716a1bdcbb56a643426a1c16cd81dd9ec64feb8499e2793fd4137c70c70942e3412de311c23516b372c89cf82d26b568ddb508e52eaf1631e6615c685a51a2b44dd3b4cfcda556b93a804f8f590d2ee1d838bc100594487bbf42427b34d456094fea60fb8c818e7d47f519b0f3fb42092db09abf7ae85cd2a0512bcc556c71e2bd0b80421bcea115ac86f7f667e9ccc5b7bdd0886ab3f8dff7dd922db2e15d56405759d6dc8b3b6c9d9234bb3ea01650fa705755b12743dfeab6095dc48984ab62872b76d774e1ea5a06c8c38a5b9675ab000b12fe84ffd3f40f6791da46df98171eaf78dcefd017252ef7f5ffa59cfaadab223c28daac777b897f4740832437e949e4fda66417a74a99d47f23fd6ab1f1eadf87a64ff80aeca907b298a7b32f64c7f6ff73716f7328e5d7bb18d3afeedf8886daef040ec300dc8f148b3fb86961224e6d7b66d1a96aa5b77abc5aa2698321fb3b28419c68b268bbed5b98a22fcbacf7b0349d8218087bd2fa0a304c65dd6e43824927dcf2f215b01c2158ff0ec9116b13e3e81a66c984eb6d26f9fbb1e480b9a69e392d25578d8cc6cef1b1fe30c56ff8c326c65880447d9a2791a9cab78f4f0d3c4fef134ff313184f1f2177e5439b6dafac8df90a29a577bbbb1f7772179e5ac5a76eb1374ba0f8df65e42ea9809093d3d6f7baf06a7851d214beb16da374c2956ad0ce8a92c7b31f96eb01b3dda3a9852b354b4556d0976fc44756bde14a3a412f5fe0fd95a533a7964246156b9359c544415bf5453a033a28eac197193225212e53c3b8dd6f381e4a7dd7baa31e44e7f7139d76a02554d77d17e500e0bc9535a1fd2227575148f5263363ff4fbf1e54922d87682709b3e2acc53bdf35373327ac74555986a816c99ef6dfa882606c21dcc45d714c69332f6fd1205e3d397d17c3fe91f4bff1b286322d3ff1c83a71754291f8d1ea504b2655b82673e731b264f443fac63b589e964f8627a928ca4772793aa68586d72a8aaf40afad7b4bbc280be4c71a93adb0e4c25e26fe1b3312cd4843d4379fee93fa8de4cd092e4c6fa5913456c4dcca994ec616946ab1b71beec6889ca8b7bd3617e4ff65375e30c8cd42ee860d6ba5490741fb5025d922d3cac817e63b989243fc9c1f95aff649703091ab13df4eb5d3cecc3ea65f789b742b6a7943777fe2c82305311eec5976d1d0cdd4af49c6d2dcb085f57cfc6a73b1810a598c3a6f3aba9075371cdf75bcbd5c71a0c49684370cdf237575edede7fd97b810028b6a7a0ec8587f22261c5be002d9658e623489d846122d8fddc6295d8e20780350552eae3cee393e9139c33d135c1257ef2fbdad67e25d6cf1645200880a75bd6068d0b146466550fd7d653978ec3c721a29b98035c01f0c3f2609dd681d0b091e53e38524892eccf88a10fe32a1b6756264aad7366c1e61733079ef1b87b210360a0b3c61b305c37180ac3248882a45e4e9292a760cf0a5e7a68bb40fdad815b8cdabe98feb5b17da085757d32849ce0464710bacb2b63cc03cb44ae03f9266724dfd22078657b65a5b22e0933142c75f27fcff1ff1b499293c499b1dd9b307ac98ef35fd35e6cd803b8d695c63019cb53381932b9b66086befeccec2ea9ccdfd71472314ff19f314f49469742dc384e3a8e6c3513df4e4f187f870f1d5c697c6812967dacda8fa440e2385db693cf52cf360f7c63bcfcc1715abad1117fde63da204ad3de491e9bb13851b858170ebc511c6397e38c5d7183232b7fc0f45e8007537e1cb05c2c5413589d296516fb3a2d9689b632dcfae7c1bb25d523502704d87970b628a5dbcb92c0922504795956f47d94b437fac9e22787657eaa0416de83fdc5468bb8decd884b7c75430100013ed088823bb83877e5e857ed9cc27bbead19d004dfa34f308ecb31724f35d6d6477d07c9e091138985864af29fe700a8f12bd062757eee36f7eab2100bebc000fd4e1060330000000000000001dd6bfe0148663a71b5460e38b01c38cc5a184efff27219959adfe5063e580e72b7a25e0a8ae2b8d3c51fd5792ba9de5bab3a0f5937c07e0bf36dbfc467fd193b27d0bb170d68b16a4059430f3835fb1e7d2a3c5bf137de947404d9ef646239cfd146fe1b114083845e6492ce46ee75da6e93336cd0c31bded6ca4e81d536c55e7b2f5699187a08bb7ce30cebe984136e703b6e0fb400f2d61798f985f6b75fda266e8da5cff142b2418624001efba910ae2c5a433269da022460678b9da85972c694b5e3ad966f9e8e17bba6c576bfea7610c7f324fb3cdaaa1dc7ad659220765bfa6b6ff7d03dfabbfc9b3549781ebaf9a2ee8c27ef82d4b57aac9fd4e9de08fa2a2827fc7ac9eb75c0488fea40fba9f73651531117b1c3806e9d7605b8799e4912afd9e731c7b3be15d6099d3799a862de0eee05eb0fe03eaae72d1478b5bce8e2045ed1ce124b35218da04f5c9f24e48823c07f34b45a9fc998ff4c26d82cbacdd1565d8ac849ded7d4a66bb86c3b40ae43c7cbd7830e0e32039e77b23c6fe3e6e269bca9633193150803fb3382b396c5e71e6135740590f7cc04a5f342f00ce21dae797cac1702d5f9c6551d0fa943557cf7ec4b4898bfbd9ba110553b11a62100bc7fd45be1224959b19f38de1eefd11bf35351fd802f36a773797c436b63786067a579c3fbfa63eac622f7a9ee30d64df37bf446849e5ee21d7189813e659069971144c17ac702611c1db2e72d3fabea4466442e280b6e0fa454d2d7121ada23fef465a11abc2afe697477cf4f1e45b7d3156edc3a8fc6566f7baf345479fe605bcf09f68e3326fe6f439c8692fc74fb3e84ccb1a744ac4546e9889bd733ed9f277c694c69f0a8e4d2ca1de2872063d9758bdd0133d57c4d58dfc4975deb3873c576ed3aec3d4f010bbaab5ee88445bd802bcc996942f7896a27e1f7755d450a28b1393a4723f6ee02305cfea01ebf62cfb04765f5054757b1773a503deff4adf32dd22ed216b4d71503a7cabb857cd50f08a7f6ce46f362b5c908276f1be75cde17eb803282114c56943cdb00c900fb8e2147a8df14482ed374a0bb281b4251deb0266608ab9dfe6b0fdf91d26c874de8b0d0b1495542167e2b12393282590d35dee703b6719f6658c17fcabc83888b7d19b6dd0cd7a8f18fc7cd093e312369e29b47746ad871e27b50696540a1eb71027a41664d7f95a50b1dae2c4953d555ff4d70049643878389650dd3738a8cecc950e1ca579e1b2e6eb8c74fca65d88c63662a8160177e71170df4427280b6b4d807c967f4df4c84aea2818668b721049f13fb2d31d8d160470eb26cffa2cf9971e8c459f553a1f248a4384765b2f463fb9a25b66a8b28d76480678d7a12c230da06cd44774e1d181bbfc62eba15555bd4ed9e4b595a7923244ca5c09ece53fe3bc9af83f7e701eeb38973ea82bc2a71e34493dba9e12e2af8e14b0c9918294a02bc3e3fe286230af87b1a411251ec00b02ee2a874da0c724bc2a1cbf3298e8b1231a8a8cc0e3662193089e20c85aa9892c39d21d229207a1fd919e379fef105c0ad4f4c0f0cb3b7e3061e4e0df54419f7564fa52767594a232d2e5109a81dc1de02b7593a62ee10116e3b125c9303671db09bbfaa6fbffd0e71f7bcd9ce76cc20eede70e66408bbe0fd273ce08ba576bfc7c243980e519861fdf557f6744f2fdfdf3bd6f1b4274c2be1bb1ff7192209a45af7891b56b3ec10259f91f5c43b9b8c3a69339da60b99e33e669dcb181ce8d15953d6b9b2d874def2206603225344be328450bb44bacb993aed4beff009ccbfbcc9c7a1ee2071020f1ab9e1825742f1c4125f838034bb952ad416e9d3a640b8c49ca70ad5da16c9e965e5bbfe6eafc5ecdf7ae0897eef6582c64612fe6483f3707e54c4810b8e8474844c69ec5a3ea5df42a6d9f4a458759e5eaa8f0403c0e5ba3371b50dfa07a399c3b9d7b1e03c5785e1f6e89ab793de8d1d16b4ab34ddab1aa8edc94b3477b20509ae4af9d187dc9498f4a37af882998339422269353417391b7454c557b06cf6907de270f9b405ef7585884312c3a26c889a1902f648b1062b5932474725a6648a84f74b15698cf997f088c4dea0c7c41b364d17366e528973408f0e0c2937e3b89f93f34d4c75e08f94f89884712fee18a3d3a51781e38ae491b6590d1f8e912f5569ca674c735d597612d00047db53977e7457d47e94e2021faf835a7ca30771a1607b6d59388f62a61fb8f80206b784b944797729a9f9ed8a085539e5493bcd197ee04f37929be8110bd1ce13947f70ae47cd5b7677b4dedcb3574087a06c1a6c3b8c6112d75403cd1d7dd34faa8d158dedc7606e36ded20fa0469c68a87df3a55db78fdd3534557ebae4992e05d6e466cc56b108c2b3b4a362f5854681f1448089ae50572ea3410cbd32d24a97a9b65dce4c04628ac90e7b16f3e1a0e77d00d6e5565f71f495520e14392e6a807f3bb7f2f71faabf7584bec2781823ebf018438f4907cdfb040d8d411c43361e787152ef6691ccbfc7e546e5d633b175fca76d3e5d43c3675fa10945a9a6237dbcee89fb4f26e3cecacedc6bf7db4bbb38d17c619b3cae976312fcf00d44170edc398416e7bbb95fc5fb91c9e08d572d2d8ec03b472e071e27697ac9bbb530b4ae69280531782228cb6a96c5c0ad89e1534e3607d11badca2c6ca006280efb21ac8c6a60bc764fc249fb4ea7d161d95d24aabc84c8b9bdda3c9677542afd9ace97945fdcf3451d7840337dacc7dd70cf19d2f5543d5caf9919b9f9dbdedd4aa3cf4cff3148fc01cfade9ce76cab35ffbba16ea6bf97f0d43e8af23dabc742ae874ed789134e9cdbcae4b1411b709f40c7a978ab4217876ed41393446cd16c800f36c6e89a7e40b1312926ebbd85544d60d97f30ff87af034afbe73070842c967e943858c6ac536b72a8da0fba384adda40a9d5f0a99b72dde40fe4101e54b58373df463dc588a8235c38b05f6d6aca73ca3cf849800ec2caafc5bc641438ba1c692c1cfcb3fa832efeb39ede095c0f422b742ad657f2fd87a3bdfde91bac63ace0a2bc428cbcc8e5cb501ad769fb8e673261598d1b0c96a0dd6d71e504da6705465d1717361cc4948b60d150f2c094032f58f4d9b1170060d32308ca580b1ad03adde32ec884edbfa6f11b94242ab580d63927bf7532c76b5521a96400d721268f1b5f8a4b6febd9f7339245382e67fee00878406400e5ed43df98e7b4c15e4346f6ac4bc64b841a8f2b0631a2231935f99306546132692ce7b402a5235ff5be0e95de3a1c124cd0cb37c723d749fbf850b04f36becf6265f3ff052b55aa2cf12f5db9d56716c20f298b1cd7c91502ee054eb24b26f642ac84f7dffaebcd87c70238f280fb8400dee2ad6158ef0c4ec3f1e2256bf00aca8a4f326683ef3e948301e622a2856efc79abcaf8a85b0cbb6f9165f080ece6d49e6fa6b8156128877af8f8d9d02b6adb6566efd5e886330bac7be3730a4fef8f7f39d84398cfb2fe9ead517de50f7ae665aee8b123a22f81baa76da48a851332997d253de9116e84d64c8e449b8d7143b955a0da97b6461bb533ac7476247001c9259ab5fd25ea2e22a2782bdde8be7728cfd778f0ce2935ab0dd3d92d1b26c55afeb7e4c662c219da1352d195263372f86a7a80f3092cc3a8faaf2eeca92c8a25cee8360f5f060a3ad4691953d5244f36a0c32b99697022df4cb71043b56eb1f9bb2c5601bd5781ffc14ca7e67e61707d6bfd8caf2336ddc529c216ccdd2feec395bc9ab9616ab0e4362050d099ba3532308a375f5ccad28a3ad3be8aa1a29f423698cd5dff0edd2f97c9e3015eb525f49144b1fc4af9ef851d9b43b67c4c4a2ef299300a768b522358d10e223e8b0ad8365be3bbb1e2c7163c67a809445fa7f76da38ead0358631c78b361b736f2a304e1fff1ef2bca101d5615709074130701c8a9f5f1bedce292f28cb12e102f30e902cbea1e075868e178402230ef7148af7efe8eeed1ec9b4cf1721abf1b9b910c449f8740aa51e2b630dac845da3c84bbcbeb0923f5796a5994ffb93ea83b87711fe07eff3225aeca60014c3736b2e7685e0dc85676352a7fbb0474458642fd1a9c954013e0da0d2c3b14744916c74d58f308b1e48a72df7768f6fe4eebf842e5357b838aff338ae4b536f688b90a8e745b50493cffb95449ab123c1dfbba73b778c3ea9806cb0fa6ebec16093a286085685e299a0cf30abc59f491de211a84fc1cc3a07d65e776a6c40ad6b90bb94c0eacdb8d15f33cab3b7e018d87725185f8d487a9c063ac0c4cc6f4c3cce259978c9b3e9d400c337ac8d9895aafa4f34aab1b0454de703c44f4bd68a9b409754aae68675fdd50e3e6d08055a6df9dfe1a5f33b6870839b8c12de728fbd08e2ad84c21b43625f7174748af45e0de3f393cb98e05d2b31404dc863bbcf8c5dd83dbecf8c20cefba33e37bb46ac51adb7da6887f1fc238d92d6893b562d7596d95d85476bb99a8cc6100b46b5b7076dcdbeba33c069f1abb958274a44ced1e20fee7beecfb30facafcbfc8ce53febfd1333533b983cae1266c6ae1652adf6eaa1884219b091b6161d340e718a19610949a62c68b75f5421587f48aea9cff1b38665ad50eacd426026914cb03b4f0030f1e0b1b037054fdb6ccf52f17f8dc27acf8b6ae28e4cd4ccadd216322b6fd6edbb054ef27580ab61f0d02686e6da6934ff4999785a92da45ef5c633888d60bf4437a9a1987524ddab59764f437dca1c378206c35db1949ffa2d740baa645cc393c58fd83e875df941c1cf620f9d1a3ba8a93fd4c452adb7dfb63eff446917a70bf5c73619542deec14c6dc8fc2054a8c4fba4f96f51a1b1a7701f680eb26d8fbc89284ac9486077765e7ebb18a6be78b34c8a4a196f7397c57a1459f9fbc5804412ccd3ed1df3b647605974ce79b77a7356254b6f6fca410d287d0715fc91d9e6737745c47c655d5418f5b8f6401c70c1e60649a46100490c686caf5e753df6c0d2845bee0c1bbaae03c4ae4da51b6bd6e02a125e1522bd9b1e8979c25e4345598d506508372a8af86b63bd21ad7727fbaf52ef063e5464a363bd65920653081d9b2607b0bd3d1b0a0314dec17db3aa6e306455e20a8aaf54f64f470b0cd36ab08126889dff4be6b6edf2427e6412b8dd0a71ef055eaee3a0afaf16afb5b860a603254c9e5918050f75959bd44e9cd98c877eb27ccbf60cd24eab6988440c09a4af58e9f839b54c5c2e782083e2a04fb945b0f878c9ebfc45629133e8458db79a200958a67e8559a5b785def8bf560df067020c959505df0e2744241db9afd544ac10f2ebb648503e1e9a21eff0540f6915366a246645773a62806f10e2f75cfaa143043140b2f0bf7b824cc0afd38d7580bbb24b3612369154bcb54dd094eb0a90b8b1f6a6a5e2d4c881740e8e431c6c3efd5c47609d222c23a4b7000a4cba42e32c2796948c84bfc9ae788a328bb21504656386c4040b1ca69efcdcd4cce2098cfcc377870cb841f7c71da1483f4098b25e70962587bc8e2dad062ed5753bc744d42877264c22f7458f6713344400c10c67d83431d91c73f5a98a7ed1151838309bf0973c981ee295b698dd54afd4600102b1f21583021874fbd5b281d8e02780e43e104633db417a4daf7d330a93e871499c49612cb3129884332fbba3603196cd3894ebf029406320fedd1725c7f46aa5c09833718c1b32e20deda95450d3c9e45318ec0c40f77b0022ccdd5597deb2c5317c9e0cca7c23da55e84d26a7595273b9a147516907f9ba0674905a00c0fd83fbb511c3fec2e120d4c189b19e768edf5f478a513ca1ee67be6953ac896e0746eb6b5b73b674cddfa042b8be2200295cb70000"
export PREVOUT=1
export P2WSH="ert1q80386n839cc3d27vglyeupk0xdc42ujlhktahc04g00mcxd84r9sgepswh"
export REDEEM="5121034383fa79dc2449d0753e1754d209ea59eeb98e4b8822ebc13de822b398770f282103626027c261068c4c07bdc79f8ef3724ab4a138e1418d4403c9bf46f2720ab4cc52ae"
export MY_ADDR="el1qqgyk8u33x6uhjxkgcnfjt7h30ywk7hnt6crnvq2jcn2p47rdl8ayqfhxr8jsuyeyfhythdjtm6jtme2d08kukjga6kk500v5c"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "create_enrollment_demand_tx",
        "params": ["'"$CHAIN"'", "'"$PREV_TX"'", "'"$PREVOUT"'", "'"$P2WSH"'", "'"$MY_ADDR"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```

```bash
export SSM_ENDPOINT="http://localhost:5500/api/v1"
export KEY_FINGERPRINTS="ce9e7a9b ce9e7a9b"
export HD_PATHS="84'/0'/42' 84'/0'/1337'"
export PREV_TX="0200000002d12f2f94516b39ab1b34ddb7fd6908829bdeabb79527330a40f2be7da4b0c96e0000000000ffffffff20a553ed13610836fe66731baae865090a2922bdf7fc0e14d9e6bde7a696f0b60000000000ffffffff01c041c8170000000016001458f5399fb6f22cf28ab1294de806f6fc607a900800000000"
export SPEND_VALUES="1.50000000 2.50000000"

curl -i -X POST -H "Content-Type: application/json" -d '{
        "jsonrpc": "2.0",
        "method": "sign_tx",
        "params": ["bitcoin-main", "'"$PREV_TX"'", "'"$KEY_FINGERPRINTS"'", "'"$HD_PATHS"'", "'"$SPEND_VALUES"'"],
        "id": "42"
    }' $SSM_ENDPOINT
```
