<!doctype html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Wallycore shell</title>
  <style>
    textarea {
      font-family: monospace;
      width: 80%;
      padding-right: 0;
      margin-left: auto;
      margin-right: auto;
      display: block;
    }
  </style>
</head>

<body>
  <textarea id="output" rows="8"></textarea>
  {{{ SCRIPT }}}
  <script async type='text/javascript' src='main.js'></script>
  <script async type='text/javascript'>
    function main() {
      if (init() !== 0) {
        alert("initialization failed");
        return;
      };
      console.log("Libwally successfully initialized\n");
      var password = "this is user password";
      var wallet = newWallet(password);
      if (wallet === "") {
        alert("Wallet creation failed");
        return;
      }
      walletObj = JSON.parse(wallet);
      console.log("New wallet successfully created\n");
      console.log("xprv is " + walletObj.integration.share.master.xprv);
      console.log("xpub is " + walletObj.integration.share.master.xpub);
      console.log("master blinding key is " + walletObj.integration.share.master.masterBlindingKey);
      console.log("seed words are \n" + walletObj.integration.share.master.seedWords);
    }
    var Module = {
      onRuntimeInitialized: function () {
        main();
      }
    };
  </script>
</body>

</html>